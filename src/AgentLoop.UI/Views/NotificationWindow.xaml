<Window x:Class="AgentLoop.UI.Views.NotificationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:fa="clr-namespace:FontAwesome.Sharp;assembly=FontAwesome.Sharp"
        Title="Notification" Height="90" Width="350" 
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        Topmost="True" ShowInTaskbar="False" Cursor="Hand"
        MouseLeftButtonUp="OnWindowClick">
    <Border x:Name="MainBorder" CornerRadius="8" Margin="5">
        <Border.Effect>
            <DropShadowEffect BlurRadius="10" Color="#40000000" Opacity="0.3" ShadowDepth="2"/>
        </Border.Effect>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="60"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="40"/>
            </Grid.ColumnDefinitions>

            <!-- Icon -->
            <fa:IconBlock x:Name="StatusIcon" Grid.Column="0" FontSize="24" Foreground="White" 
                         VerticalAlignment="Center" HorizontalAlignment="Center"/>

            <!-- Content -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="0,8">
                <TextBlock x:Name="TitleText" FontWeight="Bold" FontSize="13" Foreground="White" Margin="0,0,0,2"/>
                <TextBlock x:Name="MessageText" FontSize="12" Foreground="White" TextWrapping="NoWrap" TextTrimming="CharacterEllipsis" Opacity="0.9"/>
                
                <!-- Output Preview -->
                <Border x:Name="OutputBorder" Background="#30000000" CornerRadius="4" Margin="0,4,0,0" Padding="6,3" Visibility="Collapsed">
                    <TextBlock x:Name="OutputText" FontSize="10" Foreground="White" Opacity="0.85" FontFamily="Consolas, Monospace" TextWrapping="NoWrap" TextTrimming="CharacterEllipsis"/>
                </Border>
            </StackPanel>

            <!-- Close Button -->
            <Button Grid.Column="2" VerticalAlignment="Top" HorizontalAlignment="Right"
                    Click="OnCloseClick" Margin="0,5,5,0">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="Transparent" Padding="5">
                            <ContentPresenter />
                        </Border>
                    </ControlTemplate>
                </Button.Template>
                <fa:IconBlock Icon="Times" FontSize="12" Foreground="White" Opacity="0.7"/>
            </Button>
        </Grid>
    </Border>
</Window>
